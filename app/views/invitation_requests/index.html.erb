<h2 class="text-center mb-5"><%= InvitationRequest.model_name.human(count: @invitation_requests.length) %></h2>

<div class="container">
  <div class="row justify-content-center gap-5">
    <%= form_with url: invitation_requests_path, method: :get, class: 'col-10 me-5 px-0' do |f| %>
      <div class="d-flex gap-2 col-3">
        <%= f.label :filter, class: 'd-none' %>
        <%= f.select :filter,
                     invitation_request_filter_options,
                     { include_blank: 'Todas', selected: params[:filter] },
                     class: 'form-select' %>
        <%= f.submit t(:filter_btn  ), class: 'btn btn-sm btn-primary' %>
      </div>
    <% end %>

    <div id="requests">
      <% if @invitation_requests.any? %>
        <% @invitation_requests.each do |invitation_request| %>
          <div class="col-5 rounded border p-3">
            <div class="card-body">
              <div class="d-flex flex-column gap-4">
                <div class="d-flex flex-column gap-2">
                  <h4 class="text-break text-dark m-0"><%= invitation_request[:project_title] %></h4>
                  <div class="d-flex flex-column gap-2 align-items-start">
                    <p class="m-0"><%= invitation_request[:project_description] %></p>
                    <p class="m-0 fs-sm badge text-bg-secondary"><%= invitation_request[:project_category] %></p>
                  </div>
                </div>
                <div class="d-flex justify-content-between align-items-center">
                  <p class="m-0 text-muted">
                    Enviada há <%= time_ago_in_words(invitation_request[:created_at]) %>
                  </p>
                  <p class="m-0 text-center <%= css_color_class(invitation_request[:status].to_sym) %> fw-bold fs-5">
                    <%= InvitationRequest.human_attribute_name("status.#{invitation_request[:status]}") %>
                  </p>
                </div>
              </div>
            </div>
          </div>
        <% end %>
      <% else %>
        <h3 class="mt-5 alert alert-warning text-center" >Você ainda não fez nenhuma solicitação de convite.</h3>
      <% end %>
    </div>
  </div>
</div>
